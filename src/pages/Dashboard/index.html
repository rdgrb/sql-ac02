<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">

    <title>WindowDashboard</title>

    <link rel="stylesheet" href="../../../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/css/main.css">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
    rel="stylesheet">
    
    <link rel="stylesheet" href="index.css">
  </head>
  <body onload="onLoad()">
    <nav id="toolbar" class="d-flex justify-content-between">
      <span id="toolbar-title">SQL - Atividade Complementar 02</span>
      
      <div>
        <a href="#" onclick="minimizar()" class="toolbar-button">
            <img src="../../../node_modules/material-design-icons/navigation/drawable-mdpi/ic_unfold_less_white_24dp.png" alt="">
         </a>
        <a href="#" onclick="maximizar()" class="toolbar-button">
            <img src="../../../node_modules/material-design-icons/navigation/drawable-mdpi/ic_fullscreen_white_24dp.png" alt="">
         </a>
        <a href="#" onclick="fechar()" class="toolbar-button">
           <img src="../../../node_modules/material-design-icons/navigation/drawable-mdpi/ic_close_white_24dp.png" alt="">
        </a>
       
      </div>
    </nav>

    <div class="container-fluid">
      <div class="container mt-3">
        <div class="row">

          <div class="col-4">
            <div class="card z-depth-1 border-0 mb-3 h-100 w-100">
              <div class="card-header bg-card-header text-center d-flex justify-content-between align-items-center">
                SQL - CONFIGURAÇÃO ATIVA
              </div>
              <div id="conexao-ativa" class="card-body bg-card-body text-center">
                <div class="d-flex justify-content-center align-items-center w-100 h-100">
                  <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                  </div>
                </div>
              </div>
              <div class="card-footer bg-card-footer">
                <button id="btnConfig" onclick="checkSQLConfigClick()" class="btn btn-success btn-block text-uppercase">ADICIONAR</button>
              </div>
            </div>
          </div>

          <div class="col">
            <div class="row">
              <div class="card z-depth-1 border-0 w-100">
                <div class="card-header bg-card-header text-uppercase">
                  Adicionar arquivo de entrada
                </div>
                <form id="formFile" action="#" onsubmit="sendData(); return false;">
                  <div class="card-body bg-card-body">
                    <div class="form-group d-flex justify-content-between align-items-center">
                      <label id="lblFilePath" for="inputFile">Nenhum arquivo selecionado</label>
                      <button type="button" id="btnChooseFile" onclick="openCSVFile();" class="btn btn-custom text-uppercase align-items-center">
                        Escolher arquivo
                      </button>
                    </div>
                    <hr class="hr-divider">
                    <div class="form-group d-flex justify-content-between align-items-center">
                        <label for="inputTable">Nome da Tabela</label>
                        <input type="text" id="inputTable" class="form-control col-sm-5" placeholder="TB_CLIENTES">
                    </div>
                  </div>
                  <div class="card-footer bg-card-footer text-center d-flex justify-content-between align-items-center">
                    <button id="btnSendFile" disabled class="btn btn-custom text-uppercase">
                      Enviar dados para o BD
                    </button>
                    <div id="loadingSendFile" class="spinner-border d-none" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                  </div>
                </form>
              </div>
            </div>

            <div class="row mt-3">
              <div class="card z-depth-1 border-0 w-100">
                <div class="card-header bg-card-header text-uppercase">
                  Comando de Consulta
                </div>

                <form id="formQuery" action="#" onsubmit="sendQuery();">
                  <div class="card-body bg-card-body">
                    <input id="inputQuery" type="text" class="form-control" placeholder="SELECT * FROM Tabela">
                  </div>
                  <div class="card-footer bg-card-footer text-center d-flex justify-content-between align-items-center">
                    <button id="btnSendQuery" disabled class="btn btn-custom text-uppercase">EXECUTAR CONSULTA</button>
                    <div id="loadingQuery" class="spinner-border d-none" role="status">
                      <span class="sr-only">Loading...</span>
                    </div>
                  </div>
                </form>
                
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container mt-3 mb-5">
        <div class="row pl-3">
          <div class="card z-depth-2 border-0 w-100">
            <div class="card-header bg-card-header text-uppercase d-flex justify-content-between align-items-center">
                CONSOLE
                <a href="#" onclick="clearConsole()">
                  LIMPAR
                  <img src="../../../node_modules/material-design-icons/communication/drawable-hdpi/ic_clear_all_white_18dp.png" alt="Limpar console">
                </a>
            </div>
            <div class="card-body bg-card-body">
                <div class="pt-1 pl-2 pr-2">
                    <ul id="log-console" class="list-unstyled p-1">
                        <li>[LOG] Aplicação inicializada.</li>
                    </ul>
                </div>

                <table id="log-datatable" class="table table-bordered d-none">
                  <caption id="log-table-title">Dados da tabela requisitada</caption>
                  <thead id="log-table-header"></thead>
                  <tbody id="log-table-rows"></tbody>
                </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <script src="../../../renderer.js"></script>
    <script src="index.js"></script>
    <script src="../../controllers/toolbar-controller.js"></script>
    <script src="../../controllers/sql-controller.js"></script>
  </body>
</html>
